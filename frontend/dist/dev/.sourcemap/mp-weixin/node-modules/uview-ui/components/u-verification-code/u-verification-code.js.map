{"version":3,"sources":["webpack:///./node_modules/uview-ui/components/u-verification-code/u-verification-code.vue?a951","webpack:///./node_modules/uview-ui/components/u-verification-code/u-verification-code.vue?19b3","webpack:///./node_modules/uview-ui/components/u-verification-code/u-verification-code.vue?a105","webpack:///./node_modules/uview-ui/components/u-verification-code/u-verification-code.vue?a19f","webpack:///./node_modules/uview-ui/components/u-verification-code/u-verification-code.vue","webpack:///./node_modules/uview-ui/components/u-verification-code/u-verification-code.vue?6bad","webpack:///./node_modules/uview-ui/components/u-verification-code/u-verification-code.vue?2730"],"names":["name","props","seconds","type","String","Number","default","startText","changeText","endText","keepRunning","Boolean","uniqueKey","data","secNum","timer","canGetCode","mounted","checkKeepRunning","watch","immediate","handler","n","methods","lastTimestamp","uni","getStorageSync","changeEvent","nowTimestamp","Math","floor","Date","removeStorageSync","start","clearInterval","$emit","replace","setTimeToStorage","setInterval","reset","text","setStorage","key","beforeDestroy","clearTimeout"],"mappings":"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","file":"node-modules/uview-ui/components/u-verification-code/u-verification-code.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./u-verification-code.vue?vue&type=template&id=38dd8f37&scoped=true&\"\nvar renderjs\nimport script from \"./u-verification-code.vue?vue&type=script&lang=js&\"\nexport * from \"./u-verification-code.vue?vue&type=script&lang=js&\"\nimport style0 from \"./u-verification-code.vue?vue&type=style&index=0&id=38dd8f37&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38dd8f37\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"node_modules/uview-ui/components/u-verification-code/u-verification-code.vue\"\nexport default component.exports","export * from \"-!../../../@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-verification-code.vue?vue&type=template&id=38dd8f37&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../babel-loader/lib/index.js!../../../@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-verification-code.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../babel-loader/lib/index.js!../../../@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-verification-code.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n\n/**\n * verificationCode 验证码输入框\n * @description 考虑到用户实际发送验证码的场景，可能是一个按钮，也可能是一段文字，提示语各有不同，所以本组件 不提供界面显示，只提供提示语，由用户将提示语嵌入到具体的场景\n * @tutorial https://www.uviewui.com/components/verificationCode.html\n * @property {Number String} seconds 倒计时所需的秒数（默认60）\n * @property {String} start-text 开始前的提示语，见官网说明（默认获取验证码）\n * @property {String} change-text 倒计时期间的提示语，必须带有字母\"x\"，见官网说明（默认X秒重新获取）\n * @property {String} end-text 倒计结束的提示语，见官网说明（默认重新获取）\n * @property {Boolean} keep-running 是否在H5刷新或各端返回再进入时继续倒计时（默认false）\n * @event {Function} change 倒计时期间，每秒触发一次\n * @event {Function} start 开始倒计时触发\n * @event {Function} end 结束倒计时触发\n * @example <u-verification-code :seconds=\"seconds\" @end=\"end\" @start=\"start\" ref=\"uCode\" \n */\nexport default {\n\tname: \"u-verification-code\",\n\tprops: {\n\t\t// 倒计时总秒数\n\t\tseconds: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: 60\n\t\t},\n\t\t// 尚未开始时提示\n\t\tstartText: {\n\t\t\ttype: String,\n\t\t\tdefault: '获取验证码'\n\t\t},\n\t\t// 正在倒计时中的提示\n\t\tchangeText: {\n\t\t\ttype: String,\n\t\t\tdefault: 'X秒重新获取'\n\t\t},\n\t\t// 倒计时结束时的提示\n\t\tendText: {\n\t\t\ttype: String,\n\t\t\tdefault: '重新获取'\n\t\t},\n\t\t// 是否在H5刷新或各端返回再进入时继续倒计时\n\t\tkeepRunning: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\t// 为了区分多个页面，或者一个页面多个倒计时组件本地存储的继续倒计时变了\n\t\tuniqueKey: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsecNum: this.seconds,\n\t\t\ttimer: null,\n\t\t\tcanGetCode: true, // 是否可以执行验证码操作\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.checkKeepRunning();\n\t},\n\twatch: {\n\t\tseconds: {\n\t\t\timmediate: true,\n\t\t\thandler(n) {\n\t\t\t\tthis.secNum = n;\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tcheckKeepRunning() {\n\t\t\t// 获取上一次退出页面(H5还包括刷新)时的时间戳，如果没有上次的保存，此值可能为空\n\t\t\tlet lastTimestamp = Number(uni.getStorageSync(this.uniqueKey + '_$uCountDownTimestamp'));\n\t\t\tif(!lastTimestamp) return this.changeEvent(this.startText);\n\t\t\t// 当前秒的时间戳\n\t\t\tlet nowTimestamp = Math.floor((+ new Date()) / 1000);\n\t\t\t// 判断当前的时间戳，是否小于上一次的本该按设定结束，却提前结束的时间戳\n\t\t\tif(this.keepRunning && lastTimestamp && lastTimestamp > nowTimestamp) {\n\t\t\t\t// 剩余尚未执行完的倒计秒数\n\t\t\t\tthis.secNum = lastTimestamp - nowTimestamp;\n\t\t\t\t// 清除本地保存的变量\n\t\t\t\tuni.removeStorageSync(this.uniqueKey + '_$uCountDownTimestamp');\n\t\t\t\t// 开始倒计时\n\t\t\t\tthis.start();\n\t\t\t} else {\n\t\t\t\t// 如果不存在需要继续上一次的倒计时，执行正常的逻辑\n\t\t\t\tthis.changeEvent(this.startText);\n\t\t\t}\n\t\t},\n\t\t// 开始倒计时\n\t\tstart() {\n\t\t\t// 防止快速点击获取验证码的按钮而导致内部产生多个定时器导致混乱\n\t\t\tif(this.timer) {\n\t\t\t\tclearInterval(this.timer);\n\t\t\t\tthis.timer = null;\n\t\t\t}\n\t\t\tthis.$emit('start');\n\t\t\tthis.canGetCode = false;\n\t\t\t// 这里放这句，是为了一开始时就提示，否则要等setInterval的1秒后才会有提示\n\t\t\tthis.changeEvent(this.changeText.replace(/x|X/, this.secNum));\n\t\t\tthis.setTimeToStorage();\n\t\t\tthis.timer = setInterval(() => {\n\t\t\t\tif (--this.secNum) {\n\t\t\t\t\t// 用当前倒计时的秒数替换提示字符串中的\"x\"字母\n\t\t\t\t\tthis.changeEvent(this.changeText.replace(/x|X/, this.secNum));\n\t\t\t\t} else {\n\t\t\t\t\tclearInterval(this.timer);\n\t\t\t\t\tthis.timer = null;\n\t\t\t\t\tthis.changeEvent(this.endText);\n\t\t\t\t\tthis.secNum = this.seconds;\n\t\t\t\t\tthis.$emit('end');\n\t\t\t\t\tthis.canGetCode = true;\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t},\n\t\t// 重置，可以让用户再次获取验证码\n\t\treset() {\n\t\t\tthis.canGetCode = true;\n\t\t\tclearInterval(this.timer);\n\t\t\tthis.secNum = this.seconds;\n\t\t\tthis.changeEvent(this.endText);\n\t\t},\n\t\tchangeEvent(text) {\n\t\t\tthis.$emit('change', text);\n\t\t},\n\t\t// 保存时间戳，为了防止倒计时尚未结束，H5刷新或者各端的右上角返回上一页再进来\n\t\tsetTimeToStorage() {\n\t\t\tif(!this.keepRunning || !this.timer) return;\n\t\t\t// 记录当前的时间戳，为了下次进入页面，如果还在倒计时内的话，继续倒计时\n\t\t\t// 倒计时尚未结束，结果大于0；倒计时已经开始，就会小于初始值，如果等于初始值，说明没有开始倒计时，无需处理\n\t\t\tif(this.secNum > 0 && this.secNum <= this.seconds) {\n\t\t\t\t// 获取当前时间戳(+ new Date()为特殊写法)，除以1000变成秒，再去除小数部分\n\t\t\t\tlet nowTimestamp = Math.floor((+ new Date()) / 1000);\n\t\t\t\t// 将本该结束时候的时间戳保存起来 => 当前时间戳 + 剩余的秒数\n\t\t\t\tuni.setStorage({\n\t\t\t\t\tkey: this.uniqueKey + '_$uCountDownTimestamp',\n\t\t\t\t\tdata: nowTimestamp + Number(this.secNum)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t},\n\t// 组件销毁的时候，清除定时器，否则定时器会继续存在，系统不会自动清除\n\tbeforeDestroy() {\n\t\tthis.setTimeToStorage();\n\t\tclearTimeout(this.timer);\n\t\tthis.timer = null;\n\t}\n}\n","import mod from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-verification-code.vue?vue&type=style&index=0&id=38dd8f37&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../@dcloudio/webpack-uni-mp-loader/lib/style.js!./u-verification-code.vue?vue&type=style&index=0&id=38dd8f37&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1597745929114\n      var cssReload = require(\"H:/work/Vue.js/cy_recruitment/frontend/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}